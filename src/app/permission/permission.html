<div class="container mt-4" style="max-width: 500px;">
  <h3 class="text-center mb-4">Phân quyền theo vai trò</h3>

  <div class="mb-3">
    <label for="roleSelect" class="form-label">Chọn vai trò:</label>
    <select id="roleSelect" class="form-select" [(ngModel)]="selectedRoleId" (change)="loadRolePermissions()">
      <option *ngFor="let role of roles" [value]="role.id">{{ role.roleName }}</option>
    </select>
  </div>

  <div *ngIf="selectedRoleId">
    <h5 class="mt-4 mb-3">Danh sách quyền</h5>
    <div class="form-check mb-2" *ngFor="let perm of permissions">
      <input
        class="form-check-input"
        type="checkbox"
        [checked]="selectedPermissionIds.includes(perm.id)"
        (change)="onCheckboxChange($event, perm.id)"
        id="perm-{{perm.id}}"
      />
      <label class="form-check-label" for="perm-{{perm.id}}">
        {{ perm.description }}
      </label>
    </div>

    <button class="btn btn-primary w-100 mt-3" (click)="savePermissions()">Lưu quyền</button>
  </div>
</div>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Bootstrap JS (nếu cần dropdown, modal...) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
